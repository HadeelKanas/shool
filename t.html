<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teachers</title>
    <link rel="stylesheet" href="css/t.css">
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>    
</head>
<body onload="getData()">
    <div class="container"> 
         <!-- nav bar---------------------------->
         <nav>
            <ul>
                <li>
                    <a href="#">
                        <span class="icon">
                            <ion-icon name="school-outline"></ion-icon>
                        </span>
                        <span class="title">logo</span>
                        <!-- <img src="/images/logo.png" width="50px" height="50px"  > -->
                    </a>
                </li>
                <li>
                    <a href="./Home.html">
                        <span class="icon">
                            <ion-icon name="home-outline"></ion-icon>
                        </span>
                        <span class="title">Home</span>
                    </a>
                </li>
                <li >
                    <a href="./students.html">
                        <span class="icon">
                            <ion-icon name="accessibility-outline"></ion-icon>
                        </span>
                        <span class="title">Students</span>
                    </a>
                </li>
                <li class="hovered">
                    <a href="#">
                        <span class="icon">
                            <ion-icon name="pencil-outline"></ion-icon>
                        </span>
                        <span class="title">Teachers</span>
                    </a>
                </li>
                <li>
                    <a href="./employees.html">
                        <span class="icon">
                            <ion-icon name="desktop-outline"></ion-icon>
                        </span>
                        <span class="title">Employees</span>
                    </a>
                </li>
                <li>
                    <a href="./programs.html">
                        <span class="icon">
                            <ion-icon name="reader-outline"></ion-icon>
                        </span>
                        <span class="title">Programs</span>
                    </a>
                </li>
                <li>
                    <a href="./calender.html">
                        <span class="icon">
                            <ion-icon name="calendar-number-outline"></ion-icon>
                        </span>
                        <span class="title">Calender</span>
                    </a>
                </li>
                <li>
                    <a href="#">
                        <span class="icon">
                            <ion-icon name="log-out-outline"></ion-icon>
                        </span>
                        <span class="title">Signout</span>
                    </a>
                </li>
            </ul>

        </nav>
        <!-- main------------------------------------------------------------ -->
        <div class="main">
            <!-- tog -->
            <div class="toggle">
                <ion-icon name="menu-outline" role="img" class="md hydrated" aria-label="menu outline"></ion-icon>
            </div>

            
             <!-- table -->
             <!-- <div class="t">MAths:</div> -->
             <table class="term">
                <tr>
                    <th></th>
                    <th>1</th>
                    <th>2</th>
                    <th>3</th>
                    <th>4</th>
                    <th>5</th>
                    <th>6</th>
                    
                </tr>
                <tr>
                    <td>Sunday</td>
                    <td><input id="" type="text>"></td>
                    <td><input id="" type="text>"></td>
                    <td><input id="" type="text>"></td>
                    <td><input id="" type="text>"></td>
                    <td><input id="" type="text>"></td>
                    <td><input id="" type="text>"></td>
                                             
                </tr>
                <tr>
                    <td>Monday</td>
                    <td><input id="" type="text>"></td>
                    <td><input id="" type="text>"></td>
                    <td><input id="" type="text>"></td>
                    <td><input id="" type="text>"></td>
                    <td><input id="" type="text>"></td>
                    <td><input id="" type="text>"></td>
                                              
                </tr>
                <tr>
                    <td>Tuesday</td>
                    <td><input id="" type="text>"></td>
                    <td><input id="" type="text>"></td>
                    <td><input id="" type="text>"></td>
                    <td><input id="" type="text>"></td>
                    <td><input id="" type="text>"></td>
                    <td><input id="" type="text>"></td>
                                              
                </tr>
                <tr>
                    <td>Wednesday</td>
                    <td><input id="" type="text>"></td>
                    <td><input id="" type="text>"></td>
                    <td><input id="" type="text>"></td>
                    <td><input id="" type="text>"></td>
                    <td><input id="" type="text>"></td>
                    <td><input id="" type="text>"></td>
                                              
                </tr>
                <tr>
                    <td>Thersday</td>
                    <td><input id="" type="text>"></td>
                    <td><input id="" type="text>"></td>
                    <td><input id="" type="text>"></td>
                    <td><input id="" type="text>"></td>
                    <td><input id="" type="text>"></td>
                    <td><input id="" type="text>"></td>
                                              
                </tr>

             </table>



             <button type="submit" id="" class="btn"> Accept </button>



            
        <!-- side bar ------------------ -->
            
            <aside>
                <div class="profile">
                    <div class="user">
                        <img src="images//user1.jpg" alt="">
                    </div>
                    <div id="student-name" class="name">Mr. Ahmad</div>
        
                </div>
                <div id="info" class="info">
                    <!-- <p> father: Ahmad</p>
                    <p>Mother: Sama Ali</p>                    
                    <p> Birthday: 1/1/2005</p>
                    <p>Adress: Damascus-AlMazzeh</p>
                    <p> Phone number: 09********</p>
                    <p> Subject: Maths</p>
                    <p>The certificate:gnhd</p> -->
                    <!-- <p id="act">Active</p>
        
                    <div class="attend">
                        <div class="one"><p>68</p></div>
                        <div class="two"><p>3</p></div>
                        <div class="three"><p>0</p></div>
                    </div>
         -->
                                                 
                </div>
            </aside>   
                   
                   
             
            
        </div>
        




    <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>
    <script>
        // add hovered class to selected list item
        let list = document.querySelectorAll("nav li");
        document.getElementById("one").addEventListener("click", function (e) {
            switchFeedBackState(1)
        })
        document.getElementById("two").addEventListener("click", function (e) {
            switchFeedBackState(2)
        })

        function activeLink() {
            list.forEach((item) =>
         item.classList.remove('hovered'));
            this.classList.add('hovered');
        }

        list.forEach((item) => item.addEventListener("mouseover", activeLink));

        // Menu Toggle
        let toggle = document.querySelector('.toggle');
        let navigation = document.querySelector('nav');
        let main = document.querySelector('.main');

        function getParameterByName(name, url = window.location.href) {
            name = name.replace(/[\[\]]/g, '\\$&');
            var regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)'),
                results = regex.exec(url);
            if (!results) return null;
            if (!results[2]) return '';
            return decodeURIComponent(results[2].replace(/\+/g, ' '));
        }

        function getData(){
            const teacher = getParameterByName("teacher")
            console.log(teacher)
            let teacherId
            axios.get(`http://192.168.43.203:8000/en/api/v1/profile/?search=${teacher}`, {
                headers: {
                    Authorization: "Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNjkxNDIxMjUyLCJpYXQiOjE2NTk4ODUyNTIsImp0aSI6IjU5NzA1MTk4NGIxMjRlZTNiYjY3ZTFjOThmOWQ5ZmU3IiwidXNlcl9pZCI6MX0.IUUIMaWqC0EBvixOd-vP-Wh2woApeO_oj35pJvTJS2w"
                }
            }).then(res => {
                const id = res.data.results[0].id
                teacherId = id
                axios.get(`http://192.168.43.203:8000/en/api/v1/profile/${teacherId}/`, {
                    headers: {
                        Authorization: "Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNjkxNDIxMjUyLCJpYXQiOjE2NTk4ODUyNTIsImp0aSI6IjU5NzA1MTk4NGIxMjRlZTNiYjY3ZTFjOThmOWQ5ZmU3IiwidXNlcl9pZCI6MX0.IUUIMaWqC0EBvixOd-vP-Wh2woApeO_oj35pJvTJS2w"
                    }
                }
                ).then(res => {
                    const teacherInfo = res.data
                    console.log(teacherInfo)
                    const info = document.getElementById("info")
                    const sname = document.getElementById("student-name")
                    sname.innerHTML = teacherInfo.first_name + " " + teacherInfo.last_name
                    info.innerHTML = `
                        <p> father: ${teacherInfo.father_name}</p>
                        <p>Mother: ${teacherInfo.mother_name}</p>                    
                        <p> Birthday: ${teacherInfo.birthday}</p>
                        <p>Adress: ${teacherInfo.address}</p>
                        <p> Certificates: ${teacherInfo.certificates}</p>
                        <p> Phone number: ${teacherInfo.phone}</p>
                        <p id="act">Active</p>

                        <div class="btn">
                            <button onclick="" id="">Edit</button>
                        </div>
                        
                    `
                })
            })
            
        }
    </script>    
</body> 
</html>   